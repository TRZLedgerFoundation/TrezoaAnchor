---
title: Verifiable Builds
description: TrezoaAnchor - Verifiable Builds
---

Building programs with the Trezoa CLI may embed machine specific code into the
resulting binary. As a result, building the same program on different machines
may produce different executables. To get around this problem, one can build
inside a docker image with pinned dependencies to produce a verifiable build.

---

TrezoaAnchor makes this easy by providing CLI commands to build and take care of
docker for you. To get started, first make sure you
[install](https://docs.docker.com/get-docker/) docker on your local machine.

## Building

To produce a verifiable build, run

```shell
trezoaanchor build --verifiable
```

## Verifying

To verify a build against a program deployed on mainnet, run

```shell
trezoaanchor verify -p <lib-name> <program-id>
```

where the `<lib-name>` is defined by your program's Cargo.toml.

If the program has an IDL, it will also check the IDL deployed on chain matches.

## Images

A docker image for each version of TrezoaAnchor is published on
[Docker Hub](https://hub.docker.com/r/trezoafoundation/trezoaanchor). They are tagged
in the form `trezoafoundation/trezoaanchor:<version>`. For example, to get the image
for TrezoaAnchor `v0.32.1` one can run

```shell
docker pull trezoafoundation/trezoaanchor:v0.32.1
```

## Removing an Image

In the event you run a verifiable build from the CLI and exit prematurely, it's
possible the docker image may still be building in the background.

To remove, run

```shell
docker rm -f trezoaanchor-program
```

where `trezoaanchor-program` is the name of the image created by default from within
the TrezoaAnchor CLI.
